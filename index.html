<!DOCTYPE HTML>
<html>
<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<title>NAPA Cards _ Narrative Patterns for Data Stories</title>

	<script type="text/javascript" src="libs/d3.js"></script>
	<script type="text/javascript" src="libs/jquery.js"></script>
	<script type="text/javascript" src="libs/bootstrap.min.js"></script>
	<script type="text/javascript" src="libs/gsheets/gsheets.min.js"></script>
	<!-- <script type="text/javascript" src="data/atoms.js"></script> -->
	<!-- <script type="text/javascript" src="data/resources.js"></script>  -->
	<!--<script type="text/javascript" src="data/story.types.js"></script> -->
	<script type="text/javascript" src="js/page.display.js"></script>

	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">

<!--
	<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700,300,400italic,800' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300,400italic' rel='stylesheet' type='text/css'> -->

	<link rel="stylesheet" type="text/css" href="libs/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/font.awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/css.css">
	<link rel="stylesheet" type="text/css" href="css/print.css" media="print">

</head>

<body>

<div id="header">
	<div class="container">
		<nav class="navbar">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<div class="logo">
						<h2>NAPA Cards</h2>
						<h3>Narrative Patterns for Data Stories</h3>
					</div>
					<a href="#" class="info" id="more-info-open">More info</a>
					<a href="#" class="info" id="more-info-close" style="display: none;">Close</a>
				</div>
				<div class="more-info" id="">

					<div class="content">
						<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>

					</div>
				</div>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav" style="display: none;">
						<li class="active"><a onclick="">Patterns <span class="sr-only">(current)</span></a></li>
	<!-- 					<li class="active"><a onclick="display(this,'storytypes')">Story Types</a></li>
						<li class="active"><a onclick="display(this,'resources')">Resources</a></li> -->
						<!-- <li><a onclick="">About</a></li> -->
					</ul>

					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Filter <span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="#">Action</a></li>
								<li><a href="#">Another action</a></li>
								<li><a href="#">Something else here</a></li>
								<li role="separator" class="divider"></li>
								<li><a href="#">Separated link</a></li>
								<li role="separator" class="divider"></li>
								<li><a href="#">One more separated link</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
</div>

<div class="container" id="content">
	<p>Loadingâ€¦</p>
</div>

<script type="text/javascript">

	function loadDataFromGDocs(){
		console.log("loadDataFromGDocs");
		gsheets.getWorksheet('1w2QqxzqJnoL0ke9J_1j7lENPZk_2qTwcmwYvtQ0V2iY', 'PatternCollection', function(err, res) {
			var page = d3.select('.navbar-nav li.active a').node();
			if(res && res.data) display(page, 'atom', res.data);

	  });
	}
	function loadTsv(){
		d3.csv("data/cards.csv", function(results){
			console.table(results);
			var page = d3.select('.navbar-nav li.active a').node();
			display(page, 'atom', results);
		});
	}

	d3.select("#more-info-open").on("click", function(){
		d3.select(".more-info").style("display", "block");
		d3.select(".navbar-right").style("display", "none");
		d3.select("#more-info-close").style("display", "inline-block");
		d3.select("#more-info-open").style("display", "none");
		return false;
	})

	d3.select("#more-info-close").on("click", function(){
		d3.select(".more-info").style("display", "none");
		d3.select(".navbar-right").style("display", "block");
		d3.select("#more-info-open").style("display", "inline-block");
		d3.select("#more-info-close").style("display", "none");
		return false;
	})
	// loadDataFromGDocs();
	loadTsv();
</script>

</body>

</html>
